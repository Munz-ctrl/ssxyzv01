<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>YEN — Product</title>
<style>
* { box-sizing:border-box; }
body { margin:0; font-family: system-ui, -apple-system, Segoe UI, Roboto, sans-serif; }
.shell { min-height:100dvh; display:grid; grid-template-rows:auto 1fr; }
header { padding:18px 22px; border-bottom:1px solid #eee; display:flex; justify-content:space-between; }


.grid { display:grid; grid-template-columns: 1.2fr 1fr; gap: 28px; padding: 24px; align-items:start; }
.media { position:relative; width:100%; aspect-ratio: 3/4; background:#f5f5f5; border-radius:8px; overflow:hidden; }
.media img, .media video { width:100%; height:100%; object-fit:cover; display:block; }


.buy h1 { margin:0 0 6px; font-size:24px; }
.buy .price { color:#444; margin-bottom:14px; }
.buy button { appearance:none; border:none; background:#111; color:#fff; padding:12px 16px; border-radius:8px; cursor:pointer; }


@media (max-width: 900px) {
.grid { grid-template-columns: 1fr; }
}
</style>
</head>
<body>
<div class="shell">
<header>
<a href="index.html">YEN</a>
<a href="#">Cart (0)</a>
</header>


<main class="grid" id="app" hidden>
<div class="media" id="media"></div>
<section class="buy">
<h1 id="title">Loading…</h1>
<div class="price" id="price"></div>
<p id="desc" style="white-space:pre-wrap"></p>
<button type="button">Add to bag</button>
</section>
</main>
</div>


<script>
function getParam(name){ return new URL(location.href).searchParams.get(name); }
async function load() {
const slug = getParam('slug');
const res = await fetch('products.json');
const data = await res.json();
const p = data.products.find(x => x.slug === slug) || data.products[0];


if (!p) return;
document.title = `YEN — ${p.title}`;


const app = document.getElementById('app');
document.getElementById('title').textContent = p.title;
document.getElementById('price').textContent = p.price || '';
document.getElementById('desc').textContent = p.description || '';


const media = document.getElementById('media');
if (p.video) {
media.innerHTML = `<video src="${p.video}" autoplay muted playsinline loop></video>`;
} else {
media.innerHTML = `<img src="${p.image || p.tileImage}" alt="${p.title}">`;
}
app.hidden = false;
}
load();
</script>
</body>
</html>